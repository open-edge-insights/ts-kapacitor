{
    "Module" : {
        "Name": "Kapacitor",
        "Description": "Kapacitor module manifest",
        "SchemaVersion": "0.2",
        "ManifestFile": "${idx:kapacitor:$EIS_VERSION}",
        "RunAsUser": "$EIS_UID",
        "RunAsGroup": "$EIS_UID",
        "Resources": {
            "CPU": 100,
            "MemoryMB": 100
        },
        "ExecutionEnv": {
            "AppName": "Kapacitor",
            "ETCD_ENDPOINT": "${datastore.endpoint}",
            "CONFIGMGR_CACERT": "${databucket.cacert}",
            "CONFIGMGR_CERT": "${databucket.cert}",
            "CONFIGMGR_KEY": "${databucket.key}",
            "ETCD_PREFIX": "$ETCD_PREFIX",
            "DEV_MODE": "$DEV_MODE",
            "PROFILING_MODE": "$PROFILING_MODE",
            "KAPACITOR_URL": "http://${ep.outputKapacitor.localaddress}:${ep.outputKapacitor.localport}/",
            "KAPACITOR_UNSAFE_SSL": "true",
            "KAPACITOR_INFLUXDB_0_URLS_0": "http://${ep.inputInflux.remoteaddress}:8086/",
            "INFLUX_SERVER": "${ep.inputInflux.remoteaddress}",
            "KAPACITOR_SERVER": "${ep.outputKapacitor.localaddress}",
            "KAPACITOR_PORT": "$KAPACITOR_PORT"
        },
        "Endpoints": [
            {
                "Name": "outputKapacitor",
                "Endtype": "server",
                "Port": "$KAPACITOR_PORT",
                "DataType": "messages",
                "Link": "kapacitorout"
            },
            {
                "Name": "inputInflux",
                "Endtype": "client",
                "Protocol": "TCP",
                "DataType": "messages",
                "Link": "influxout"
            }
        ]
    }
}